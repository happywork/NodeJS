{{##def.page_title = 'Stats' #}}

{{##def.content:
<style>
    tr {
        height : 30px;
    }
</style>
<div class="portlet light">
    <div class="portlet-body">
        <div class = 'row' style = 'text-align: center;'>
            <h1 style='margin-top: 0; font-weight: bold;'>{{=it.translation['stats_title']}}</h1>
            <span>{{=it.translation['stats_generated']}} {{! it.generated }}</span>
            <table style="font-size: 18px; margin:40px auto 0 auto;">
                <tbody>
                <tr>
                    <td>
                        <b>{{=it.translation['stats_pendingwithdraws_1']}}</b><br />
                        <small>({{=it.translation['stats_pendingwithdraws_2']}})</small>
                    </td>
                    <td>{{= it.stats.pending_withdrawals.count }}</td>
                </tr>
                <tr>
                    <td>
                        <b>{{=it.translation['stats_unterminatedgames_1']}}</b><br />
                        <small>({{=it.translation['stats_unterminatedgames_2']}})</small>
                    </td>
                    <td>{{=it.stats.unterminated_games.count}} </td>
                </tr>
                <tr style='height:25px'>
                    <td></td>
                    <td></td>
                </tr>

                <tr>
                    <td><b>{{=it.translation['stats_deposits']}}</b></td>
                    <td>{{#def.format: {n: it.stats.deposits.sum} }} bits</td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_withdrawals']}}</b></td>
                    <td>{{#def.format: { n: it.stats.withdrawals.sum } }} bits</td>
                </tr>
                <tr>
                    <td class="strong">{{=it.translation['stats_net']}}</td>
                    <td class="strong">{{#def.format: { n: (it.stats.deposits.sum - (it.stats.withdrawals.sum * -1)) } }} bits</td>
                </tr>
                <tr style='height:25px'>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_totalwagered']}}</b></td>
                    <td>{{#def.format: {n: it.stats.plays.total_bet } }} bits</td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_playerswonincashed']}}</b></td>
                    <td>{{#def.format: {n: it.stats.plays.cashed_out } }} bits <small>(
                        {{= (it.stats.plays.cashed_out / it.stats.plays.total_bet * 100).toFixed(2) }}%
                        )</small></td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_playerswoninbonuses']}}</b></td>
                    <td>{{#def.format: {n: it.stats.plays.bonused } }} bits <small>(
                        {{= (it.stats.plays.bonused / it.stats.plays.total_bet * 100).toFixed(2) }}%
                        )</small></td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_playerswonintotal']}}</b></td>
                    <td>{{#def.format: {n: (9 + it.stats.plays.cashed_out + it.stats.plays.bonused) } }} bits <small>(
                        {{= ((it.stats.plays.cashed_out + it.stats.plays.bonused) / it.stats.plays.total_bet * 100).toFixed(2) }}%
                        )</small></td>
                </tr>
                <tr>
                    <td class="strong">{{=it.translation['stats_ourprofit']}}</td>
                    <td class="strong">
                        {{#def.format: {n: it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused  } }} bits
                        <small>(
                            {{= ((it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused ) / it.stats.plays.total_bet * 100).toFixed(2) }}%
                            )</small>
                    </td>
                </tr>
                <tr style='height:25px'>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="strong">{{=it.translation['stats_bankroll']}}</td>
                    <td class="strong">
                        {{#def.format: {n: it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused + it.stats.bankroll_offset } }} bits
                    </td>
                </tr>
                <tr>
                    <td class="strong">{{=it.translation['stats_maxwinpergame']}}</td>
                    <td>
                        {{#def.format: {n: (it.stats.plays.total_bet - it.stats.plays.cashed_out - it.stats.plays.bonused + it.stats.bankroll_offset)*0.03 } }} bits
                    </td>
                </tr>
                <tr style='height:25px'>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_totalusers']}}</b></td>
                    <td>{{=it.stats.users.count}}</td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_totalplays']}}</b></td>
                    <td>{{=it.stats.plays.count }}</td>
                </tr>
                <tr>
                    <td><b>{{=it.translation['stats_totalgames']}}</b></td>
                    <td>{{=it.stats.games.count}}</td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>

<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="/metronic/assets/global/plugins/respond.min.js"></script>
<script src="/metronic/assets/global/plugins/excanvas.min.js"></script>
<![endif]-->

<script src="/metronic/assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="/metronic/assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="/metronic/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<script defer src="/fonts/font-awesome/svg-with-js/js/fontawesome-all.min.js"></script>
<script src="/metronic/assets/global/scripts/Metronic.js" type="text/javascript"></script>
<script src="/metronic/assets/admin/layout2/scripts/layout.js" type="text/javascript"></script>
<script>
    $(document).ready(function() {
        Metronic.init();
        Layout.init();

        $("#id_inputUsername").on('keyup', function (e) {
            if (e.keyCode == 13) {
                if($("#id_inputUsername").val() != '')
                    $("#id_btnSearch").click();
            }
        });

        $("#id_btnSearch").click(function() {
            window.location = "/user/" + $("#id_inputUsername").val();
        });
    });

</script>
<script>

</script>
<!-- END JAVASCRIPTS -->
#}}


{{#def.include('./template/main')}}
